# =============================================================================
# CONFIGURATION NIASOTAC BACKEND
# =============================================================================
# Copier ce fichier en .env et remplir les valeurs
# Ne JAMAIS committer le fichier .env avec les vraies valeurs!
#
# Pour développement local: export DJANGO_SETTINGS_MODULE=niasotac_backend.config.dev
# Pour production: export DJANGO_SETTINGS_MODULE=niasotac_backend.config.prod
# =============================================================================

# =============================================================================
# DJANGO CORE
# =============================================================================

# Secret key - OBLIGATOIRE en production
# Générer avec: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY="t@$0yna#mvbkq&k50@pe&l6rec%2b34nnrw^co7vw9updj)8"


# Debug mode - TOUJOURS False en production
DEBUG=False

# Hosts autorisés (séparés par des virgules, sans espaces)
# Production: votre-domaine.com,www.votre-domaine.com
# Dev: localhost,127.0.0.1
ALLOWED_HOSTS=


# Django settings module (automatique depuis entry points)
DJANGO_SETTINGS_MODULE=niasotac_backend.config.prod

# =============================================================================
# BASE DE DONNÉES
# =============================================================================

# PostgreSQL - OBLIGATOIRE en production
# Format: postgres://user:password@host:port/database
# Exemple Replit: postgresql://user:pass@db.host.replit.com:5432/database
# Exemple Heroku/Railway: fourni automatiquement
DATABASE_URL=postgresql://user:password@localhost:5432/niasotac_db

# SSL pour la connexion DB (True en production cloud)
DB_SSL_REQUIRE=True

# =============================================================================
# SÉCURITÉ & CORS
# =============================================================================

# CORS - Origines autorisées (frontend, séparées par virgules)
# Production: https://votre-site.com,https://www.votre-site.com
CORS_ALLOWED_ORIGINS=https://votre-site.com,https://www.votre-site.com

# CSRF - Origines de confiance (similaire à CORS)
CSRF_TRUSTED_ORIGINS=https://votre-site.com,https://www.votre-site.com

# Force HTTPS redirect (True en production)
SECURE_SSL_REDIRECT=True

# HSTS duration in seconds (1 year = 31536000)
SECURE_HSTS_SECONDS=31536000

# =============================================================================
# STOCKAGE FICHIERS - AWS S3
# =============================================================================

# Activer S3 pour le stockage des médias (images produits)
USE_S3=True

# AWS S3 Credentials
AWS_ACCESS_KEY_ID=votre-aws-access-key-id
AWS_SECRET_ACCESS_KEY=votre-aws-secret-access-key
AWS_STORAGE_BUCKET_NAME=votre-bucket-name
AWS_S3_REGION_NAME=eu-west-3

# =============================================================================
# REDIS & CELERY
# =============================================================================

# Redis URL - Utilisé pour Celery et cache
# Format: redis://host:port/db
# Replit: fourni automatiquement via REDIS_URL
# Heroku: redis://h:password@host:port
REDIS_URL=redis://localhost:6379/0

# Ou spécifier séparément
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# =============================================================================
# EMAIL (NEWSLETTER)
# =============================================================================

# Backend email
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# Serveur SMTP
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True

# Credentials SMTP
EMAIL_HOST_USER=votre-email@gmail.com
EMAIL_HOST_PASSWORD=votre-mot-de-passe-application

# Email par défaut pour l'envoi
DEFAULT_FROM_EMAIL=noreply@votre-domaine.com

# =============================================================================
# MONITORING - SENTRY (OPTIONNEL)
# =============================================================================

# Sentry DSN pour tracking des erreurs
# Créer un compte sur sentry.io et créer un projet Django
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# Environnement Sentry
SENTRY_ENVIRONMENT=production

# Taux d'échantillonnage pour les traces (0.0 à 1.0)
SENTRY_TRACES_SAMPLE_RATE=0.1

# =============================================================================
# LOGGING
# =============================================================================

# Niveau de log (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=INFO
CELERY_LOG_LEVEL=INFO

# Format JSON pour les logs (True pour agrégation, False pour dev)
LOG_JSON=False

# =============================================================================
# DOCUMENTATION API (Swagger/ReDoc)
# =============================================================================

# Activer/désactiver la documentation API (True par défaut en dev)
ENABLE_API_DOCS=True

# Backend à utiliser: 'yasg' (défaut) ou 'spectacular'
API_DOCS_BACKEND=yasg

# Exiger une authentification pour accéder à la documentation
API_DOCS_REQUIRE_AUTH=False

# =============================================================================
# LIMITES & QUOTAS
# =============================================================================

# Taille max upload en bytes (5MB = 5242880)
FILE_UPLOAD_MAX_MEMORY_SIZE=5242880
DATA_UPLOAD_MAX_MEMORY_SIZE=5242880

# =============================================================================
# VARIABLES SPÉCIFIQUES REPLIT (si déploiement sur Replit)
# =============================================================================

# Domaines Replit (fournis automatiquement)
# REPLIT_DOMAINS=xxx.replit.dev

# =============================================================================
# EXEMPLE COMPLET POUR DÉVELOPPEMENT LOCAL
# =============================================================================
#
# SECRET_KEY=django-insecure-dev-key-local
# DEBUG=True
# ALLOWED_HOSTS=localhost,127.0.0.1
# DATABASE_URL=sqlite:///db.sqlite3
# USE_S3=False
# REDIS_URL=redis://localhost:6379/0
# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
# SENTRY_DSN=
# DJANGO_SETTINGS_MODULE=niasotac_backend.config.dev
#
# =============================================================================

# =============================================================================
# EXEMPLE COMPLET POUR PRODUCTION
# =============================================================================
#
# SECRET_KEY=super-secret-random-key-generated-securely
# DEBUG=False
# ALLOWED_HOSTS=api.myshop.com,www.myshop.com
# DATABASE_URL=postgresql://user:pass@db-host.com:5432/myshop_prod
# DB_SSL_REQUIRE=True
# CORS_ALLOWED_ORIGINS=https://myshop.com,https://www.myshop.com
# CSRF_TRUSTED_ORIGINS=https://myshop.com,https://www.myshop.com
# USE_S3=True
# AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
# AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# AWS_STORAGE_BUCKET_NAME=myshop-media-production
# AWS_S3_REGION_NAME=eu-west-3
# REDIS_URL=redis://h:password@redis-host.com:6379
# EMAIL_HOST=smtp.sendgrid.net
# EMAIL_PORT=587
# EMAIL_HOST_USER=apikey
# EMAIL_HOST_PASSWORD=SG.xxxxxxxxxxxxxxxxxxxx
# DEFAULT_FROM_EMAIL=noreply@myshop.com
# SENTRY_DSN=https://xxxxx@o1234567.ingest.sentry.io/1234567
# SENTRY_ENVIRONMENT=production
# LOG_LEVEL=INFO
# LOG_JSON=True
# DJANGO_SETTINGS_MODULE=niasotac_backend.config.prod
#
# =============================================================================
